
형태소 분석기를 이용한 비슷한 유형 검색가능





\$\{([^}]+)\}



-- 테이블 구조 복사
--create table s3file_20231125 (like s3file including all);
-- 추가로 데이터도 넣어주기
--insert into s3file_20231125 (select * from s3file);




pgloader를 이용한 로컬 db 마이그레이션
docker run --rm -it --network="host" ffflorian/pgloader pgloader --debug --with "prefetch rows = 500" pgsql://anypoint:'*emflaj*'@prod-reds.cluster-cbth1bnhfbdg.ap-northeast-2.rds.amazonaws.com:5432/flowerdb pgsql://anypoint:'*emflaj*'@dev-ff-pg.cluster-cbth1bnhfbdg.ap-northeast-2.rds.amazonaws.com:5432/redsdb_20240425

docker run --rm -it --network="host" ffflorian/pgloader pgloader --debug --with "prefetch rows = 500" pgsql://anypoint:'*emflaj*'@dev-ff-pg.cluster-cbth1bnhfbdg.ap-northeast-2.rds.amazonaws.com:5432/dev pgsql://flower:ffdb@localhost:15432/flowerdb

docker run --rm -it --network="host" ffflorian/pgloader pgloader --debug --with "prefetch rows = 500" pgsql://flower_glue:I9jK1lM3nO5@prod-flower-fragrance.cluster-c0hrasxydgoa.ap-northeast-2.rds.amazonaws.com:5432/flowerdb pgsql://anypoint:'*emflaj*'@dev-ff-pg.cluster-cbth1bnhfbdg.ap-northeast-2.rds.amazonaws.com:5432/uplus_test6

docker run --rm -it --network="host" ffflorian/pgloader pgloader --debug --with "prefetch rows = 500" pgsql://anypoint:'*emflaj*'@dev-ff-pg.cluster-cbth1bnhfbdg.ap-northeast-2.rds.amazonaws.com:5432/base_dev pgsql://flower:'ffdb'@localhost:5432/flowerdb


db내용 복사
create database flowerdb_ori with template flowerdb owner flower

해당 db와 연결된 세션 끊기
SELECT pg_terminate_backend(pg_stat_activity.pid)
FROM pg_stat_activity
WHERE pg_stat_activity.datname = 'flowerdb'
 AND pid <> pg_backend_pid();



 docker run --rm -it --network="host" ffflorian/pgloader pgloader --debug  --with "prefetch rows = 500"  pgsql://flower_glue:I9jK1lM3nO5@prod-flower-fragrance.cluster-c0hrasxydgoa.ap-northeast-2.rds.amazonaws.com:5432/flowerdb pgsql://anypoint:'*emflaj*'@dev-ff-pg.cluster-cbth1bnhfbdg.ap-northeast-2.rds.amazonaws.com:5432/uplus_test5



* https://mikefarah.gitbook.io/yq/usage/convert
https://github.com/nvbn/thefuck
* https://stedolan.github.io/jq/


마지막 db에 적용하는 부분에는 특수 동작이 있으면 않됨 < 싹다 서비스 레이어로 올려서 해야함 > 간단crud 쿼리가 있다면 해당 쿼리 또는 jpa에는 특수값이 없어야 한다.
ex: insert id: 1

